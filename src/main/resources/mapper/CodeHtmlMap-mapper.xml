<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper SYSTEM "mybatis-3-mapper.dtd">


<mapper namespace="CodeHtmlMap">

    <!-- Result Map 정의
    <resultMap id="codeHtmlMap" type="codeHtml">
        <id property="CDVA_ID" column="CDVA_ID"/>
        <id property="HTML_PTH_NM" column="HTML_PTH_NM"/>
        <result property="AMN_DTM" column="AMN_DTM"/>
        <result property="GNT_DTM" column="GNT_DTM"/>
    </resultMap>-->

    <!-- 모든 데이터 조회 -->
    <select id="findAll" resultType="codeHtml">
        SELECT * FROM THURXE_CCDHTR
    </select>    
    
    <!-- 기본키 데이터 중복여부 조회 -->
    <select id="countById" parameterType="Long" resultType="codeHtml">
        SELECT COUNT(*)
        FROM THURXE_CCDHTR WHERE HTML_PTH_NM=#{HTML_PTH_NM} AND CDVA_ID=#{CDVA_ID}
    </select>
    
    <!-- 신규 데이터 추가 --> 
    <insert id="insert" parameterType="codeHtml">
        INSERT INTO THURXE_CCDHTR(HTML_PTH_NM, CDVA_ID, GNT_DTM)
            VALUES(#{HTML_PTH_NM}, #{CDVA_ID}, SYSDATE)
    </insert>   
    
    <!-- 기존 데이터 삭제 --> 
    <delete id="delete" parameterType="codeHtml">
        DELETE FROM THURXE_CCDHTR WHERE HTML_PTH_NM=#{HTML_PTH_NM} AND CDVA_ID=#{CDVA_ID}
    </delete>
    
</mapper>