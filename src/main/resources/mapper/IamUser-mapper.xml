<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper SYSTEM "mybatis-3-mapper.dtd">

<mapper namespace="IamUser">

    <!-- 모든 데이터 조회 -->
    <select id="findAll" resultType="iamUser">
        SELECT * FROM OHR.IF_IAM_USER
    </select>     
    
    <!-- ID/PW 일치 사용자 조회 -->
    <select id="login" parameterType="iamUser" resultType="iamUser">
        SELECT 
            A.EMP_NO, 
            A.EMP_PWD
        FROM OHR.IF_IAM_USER A 
        WHERE 
            A.EMP_NO=#{EMP_NO} AND 
            A.EMP_PWD=#{EMP_PWD}
    </select>

    <!-- 통합 키워드 사용자 조회 -->
    <select id="findBySearchValue" parameterType="String" resultType="iamUser">
        SELECT *
        FROM OHR.IF_IAM_USER A
        WHERE
            A.EMP_NO LIKE '%' || #{searchValue} || '%' OR
            A.EMP_NM LIKE '%' || #{searchValue} || '%'
    </select>
        
</mapper>